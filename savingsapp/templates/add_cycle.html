{% extends "base.html" %}

{% block title %} Savings-Home {% endblock title %}

{% block stylesheets %}
    {{ block.super }}
{% endblock stylesheets %}

{% block content %}

    <section class="hero-area">
      <div class="container">
        <p><a href="{% url 'index' %}">Home</a> / Add Cycle</p>
        
        <div class="row">
          <div class="col-lg-10 align-items-center table-bordered" >
            <h4> Add New Cycle</h4>
            {% load crispy_forms_tags %}
              <form method="POST" enctype="multipart/form-data" >
                {% csrf_token %}
                <div class="col-lg-4">
                  <label> Cycle Name</label>
                  <input type="text" name="cycle_name" placeholder="e.g first cycle" value="" class="form-control">
               </div>
               <div class="col-lg-4">
                  <label> Start Period</label>
                  <input type="date" name="cycle_period_start" value="date" class="form-control">
               </div>

                <div class="col-lg-4">
                  <label> End Period</label>
                  <input type="date" name="cycle_period_end" value="date" class="form-control">
               </div>
                <div class="col-lg-4">
                   <button type="submit" class="btn btn-primary" >Submit</button>
               </div>
                <!-- {{ form.cycle_name|as_crispy_field}}
                {{ form.cycle_period_start|as_crispy_field}}
                {{ form.cycle_period_end|as_crispy_field}} -->
               
              </form>
          </div>
          
          <br><br><br>
          <hr>
          <div class="col-lg-12">
            <h4>List of Cycles</h4>
            <table id="data-table" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                <thead>
                  <tr style="font-weight: bolder;">
                    <td>Id</td>
                    <td>Cycle Name</td>
                    <td>Cycle Start</td>
                    <td>Cycle End</td>
                    <td>Is Active?</td>
                    <td>Action</td>
                  </tr>
                </thead>
                <tbody>
                  {% for list in all_cycle %}
                    <tr>
                      <td>{{list.id}}</td>
                      <td>{{list.cycle_name}}</td>
                      <td>{{list.cycle_period_start}}</td>
                      <td>{{list.cycle_period_end}}</td>
                      <td>{{list.is_active}}</td>

                      <td> <div class="mb-4">
                            {% if list.is_active == True %}
                            <a href="{% url 'edit-cycle' pk=list.id %}"class="btn btn-info btn-sm"><span class="fa fa-edit"> Edit</span></a>
                            <a href="#" class="btn btn-warning btn-sm">
                              <span class="glyphicon glyphicon-ok"></span> Active</a>
                               <a href="{% url 'archive-cycle' %}"class="btn btn-danger btn-sm"><span class="fa fa-ok"> ARCHIVE CYCLE</span></a>
                            {% else %}
                            <a href="#" class="btn btn-danger btn-sm">
                              <span class="glyphicon glyphicon-ok"></span> Archived</a>
                            {% endif %}
                            <!-- <a href="{% url 'delete-cycle' pk=list.id %}"class="btn btn-danger btn-sm"><span class="fa fa-trash"> Delete</span></a> -->
                            
                      </div>
                     </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
    {% endblock content %}

    {% block javascripts %}
        {{ block.super }}
    {% endblock javascripts %}
